# BIDFLOW V2 Supabase 스키마 시각화

> **버전**: 2.0.0
> **최종 업데이트**: 2025-12-21
> **테이블 수**: 9개 (Core) + 3개 (IoT 확장)

---

## 1. 전체 아키텍처 다이어그램

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                          BIDFLOW V2 DATA ARCHITECTURE                         ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                               ║
║  ┌─────────────────────────────────────────────────────────────────────────┐  ║
║  │                         🔐 AUTH LAYER (Supabase Auth)                   │  ║
║  │                                                                         │  ║
║  │    ┌──────────────┐                                                     │  ║
║  │    │  auth.users  │ ─── Supabase 내장 인증 시스템                        │  ║
║  │    └──────┬───────┘                                                     │  ║
║  │           │ 1:1                                                         │  ║
║  │           ▼                                                             │  ║
║  │    ┌──────────────┐                                                     │  ║
║  │    │   profiles   │ ─── 사용자 프로필 + 테넌트 연결                      │  ║
║  │    └──────────────┘                                                     │  ║
║  └─────────────────────────────────────────────────────────────────────────┘  ║
║                                        │                                      ║
║                                        ▼                                      ║
║  ┌─────────────────────────────────────────────────────────────────────────┐  ║
║  │                        🏢 TENANT LAYER (Multi-tenant)                   │  ║
║  │                                                                         │  ║
║  │    ┌──────────────┐      ┌──────────────┐      ┌──────────────┐         │  ║
║  │    │   tenants    │──┬──▶│   products   │      │  org_scores  │         │  ║
║  │    │  (고객사)     │  │   │   (제품)     │      │  (기관점수)   │         │  ║
║  │    └──────────────┘  │   └──────────────┘      └──────────────┘         │  ║
║  │                      │                                                  │  ║
║  │                      └──▶ RLS: tenant_id 기반 격리                       │  ║
║  └─────────────────────────────────────────────────────────────────────────┘  ║
║                                        │                                      ║
║                                        ▼                                      ║
║  ┌─────────────────────────────────────────────────────────────────────────┐  ║
║  │                         📊 DATA LAYER (Core Business)                   │  ║
║  │                                                                         │  ║
║  │    ┌──────────────┐      ┌──────────────┐      ┌──────────────┐         │  ║
║  │    │   sources    │──┬──▶│    bids      │◀──┬──│   matches    │         │  ║
║  │    │  (데이터소스)  │  │   │  (입찰공고)   │   │   │  (매칭결과)   │         │  ║
║  │    └──────────────┘  │   └──────────────┘   │   └──────────────┘         │  ║
║  │                      │                       │                           │  ║
║  │    TED │ SAM.gov │ G2B                    175점 매칭                      │  ║
║  └─────────────────────────────────────────────────────────────────────────┘  ║
║                                        │                                      ║
║                                        ▼                                      ║
║  ┌─────────────────────────────────────────────────────────────────────────┐  ║
║  │                        🔔 ACTION LAYER (Operations)                     │  ║
║  │                                                                         │  ║
║  │    ┌──────────────┐                          ┌──────────────┐           │  ║
║  │    │    alerts    │                          │  audit_logs  │           │  ║
║  │    │    (알림)     │                          │  (감사로그)   │           │  ║
║  │    └──────────────┘                          └──────────────┘           │  ║
║  └─────────────────────────────────────────────────────────────────────────┘  ║
║                                                                               ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

---

## 2. ERD (Entity Relationship Diagram)

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                                    BIDFLOW V2 ERD                                    │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                      │
│   ╔═══════════════╗                                    ╔═══════════════╗             │
│   ║   TENANTS     ║                                    ║   SOURCES     ║             │
│   ╠═══════════════╣                                    ╠═══════════════╣             │
│   ║ 🔑 id (PK)    ║                                    ║ 🔑 id (PK)    ║             │
│   ║ name          ║                                    ║ name          ║             │
│   ║ slug          ║                                    ║ type          ║             │
│   ║ settings      ║                                    ║ config        ║             │
│   ║ plan          ║                                    ║ status        ║             │
│   ║ created_at    ║                                    ║ last_sync_at  ║             │
│   ╚═══════╤═══════╝                                    ╚═══════╤═══════╝             │
│           │                                                    │                     │
│     ┌─────┴─────┬──────────────┐                              │                     │
│     │           │              │                              │                     │
│     ▼           ▼              ▼                              ▼                     │
│   ╔═══════════════╗  ╔═══════════════╗  ╔═══════════════╗  ╔═══════════════╗        │
│   ║  PROFILES     ║  ║  PRODUCTS     ║  ║  ORG_SCORES   ║  ║    BIDS       ║        │
│   ╠═══════════════╣  ╠═══════════════╣  ╠═══════════════╣  ╠═══════════════╣        │
│   ║ 🔑 id (PK)    ║  ║ 🔑 id (PK)    ║  ║ 🔑 id (PK)    ║  ║ 🔑 id (PK)    ║        │
│   ║ 🔗 user_id    ║  ║ 🔗 tenant_id  ║  ║ 🔗 tenant_id  ║  ║ 🔗 source_id  ║        │
│   ║ 🔗 tenant_id  ║  ║ name          ║  ║ org_name      ║  ║ source_nid    ║        │
│   ║ role          ║  ║ model_number  ║  ║ win_count     ║  ║ title         ║        │
│   ║ preferences   ║  ║ keywords      ║  ║ total_amount  ║  ║ organization  ║        │
│   ╚═══════╤═══════╝  ║ specs         ║  ║ history_sc    ║  ║ country       ║        │
│           │          ║ is_active     ║  ║ pref_score    ║  ║ deadline      ║        │
│           │          ╚═══════╤═══════╝  ║ scale_score   ║  ║ est_price     ║        │
│           │                  │          ║ total_score   ║  ║ description   ║        │
│           │                  │          ╚═══════════════╝  ║ raw_data      ║        │
│           │                  │                              ║ content_hash  ║        │
│           │                  │                              ╚═══════╤═══════╝        │
│           │                  │                                      │               │
│           │                  └──────────────┬───────────────────────┘               │
│           │                                 │                                        │
│           │                                 ▼                                        │
│           │                        ╔═══════════════════╗                             │
│           │                        ║     MATCHES       ║                             │
│           │                        ╠═══════════════════╣                             │
│           │                        ║ 🔑 id (PK)        ║                             │
│           │                        ║ 🔗 tenant_id      ║                             │
│           │                        ║ 🔗 bid_id         ║                             │
│           │                        ║ 🔗 product_id     ║                             │
│           │                        ║ ─────────────────  ║                             │
│           │                        ║ total_score       ║◀─── 175점 만점              │
│           │                        ║ keyword_score     ║◀─── 100점                   │
│           │                        ║ spec_score        ║◀─── 25점                    │
│           │                        ║ org_score         ║◀─── 50점                    │
│           │                        ║ ─────────────────  ║                             │
│           │                        ║ action            ║◀─── BID/REVIEW/SKIP         │
│           │                        ║ user_action       ║                             │
│           │                        ║ 🔗 actioned_by    ║                             │
│           ├────────────────────────╫─────────────────────                            │
│           │                        ╚═══════════════════╝                             │
│           │                                 │                                        │
│           │                                 │                                        │
│           ▼                                 ▼                                        │
│   ╔═══════════════╗                ╔═══════════════╗                                 │
│   ║    ALERTS     ║                ║  AUDIT_LOGS   ║                                 │
│   ╠═══════════════╣                ╠═══════════════╣                                 │
│   ║ 🔑 id (PK)    ║                ║ 🔑 id (PK)    ║                                 │
│   ║ 🔗 tenant_id  ║                ║ 🔗 tenant_id  ║                                 │
│   ║ 🔗 user_id    ║                ║ 🔗 user_id    ║                                 │
│   ║ 🔗 match_id   ║                ║ action        ║                                 │
│   ║ type          ║                ║ entity_type   ║                                 │
│   ║ channel       ║                ║ entity_id     ║                                 │
│   ║ status        ║                ║ old_value     ║                                 │
│   ║ message       ║                ║ new_value     ║                                 │
│   ║ sent_at       ║                ║ ip_address    ║                                 │
│   ╚═══════════════╝                ╚═══════════════╝                                 │
│                                                                                      │
└─────────────────────────────────────────────────────────────────────────────────────┘

범례:
  🔑 Primary Key
  🔗 Foreign Key
  ═══ 테이블 경계
  ─── 관계 연결
```

---

## 3. 175점 매칭 점수 시스템

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                            175점 매칭 점수 체계                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                      │
│  ┌───────────────────────────────────────────────────────────────────────────────┐   │
│  │                                                                               │   │
│  │   KEYWORD SCORE (100점)                                                       │   │
│  │   ══════════════════════════════════════════════════════════════              │   │
│  │                                                                               │   │
│  │   ┌────────────────────────────────────────────────────────────┐              │   │
│  │   │████████████████████████████████████████████████████████████│ Primary     │   │
│  │   │                                                            │ (50점)      │   │
│  │   │  초음파유량계, 다회선, ultrasonic flow meter, ...          │             │   │
│  │   └────────────────────────────────────────────────────────────┘              │   │
│  │                                                                               │   │
│  │   ┌────────────────────────────────────────────────┐                          │   │
│  │   │████████████████████████████████████████████████│ Secondary (30점)        │   │
│  │   │  상수도, 취수장, 정수장, water meter, ...      │                          │   │
│  │   └────────────────────────────────────────────────┘                          │   │
│  │                                                                               │   │
│  │   ┌──────────────────────────────┐                                            │   │
│  │   │██████████████████████████████│ Specs (20점)                               │   │
│  │   │  DN100, DN500, DN1000, ...   │                                            │   │
│  │   └──────────────────────────────┘                                            │   │
│  │                                                                               │   │
│  │   ┌─────────────────┐                                                         │   │
│  │   │░░░░░░░░░░░░░░░░░│ Exclude (-30점)                                         │   │
│  │   │  전자유량계, 열량계, ...                                                   │   │
│  │   └─────────────────┘                                                         │   │
│  │                                                                               │   │
│  └───────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
│  ┌───────────────────────────────────────────────────────────────────────────────┐   │
│  │                                                                               │   │
│  │   SPEC SCORE (25점)                                                           │   │
│  │   ══════════════════════════════════════════════════════════════              │   │
│  │                                                                               │   │
│  │   ┌─────────────────────────────────────────┐                                 │   │
│  │   │                                         │                                 │   │
│  │   │  공고 요구사항        제품 스펙         │                                 │   │
│  │   │  ┌─────────────┐    ┌─────────────┐    │                                 │   │
│  │   │  │ DN: 100-500 │ ↔  │ DN: 100-4000│  ✓ │  일치: +10점                    │   │
│  │   │  │ 정확도: ±1% │ ↔  │ 정확도: ±0.5│  ✓ │  초과 충족: +15점               │   │
│  │   │  │ 프로토콜:   │ ↔  │ RS485/Modbus│  ✓ │  미충족: 0점                    │   │
│  │   │  │  RS485      │    │             │    │                                 │   │
│  │   │  └─────────────┘    └─────────────┘    │                                 │   │
│  │   │                                         │                                 │   │
│  │   └─────────────────────────────────────────┘                                 │   │
│  │                                                                               │   │
│  └───────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
│  ┌───────────────────────────────────────────────────────────────────────────────┐   │
│  │                                                                               │   │
│  │   ORG SCORE (50점)                                                            │   │
│  │   ══════════════════════════════════════════════════════════════              │   │
│  │                                                                               │   │
│  │   ┌─────────────────────────────────────────────────────────────────────────┐ │   │
│  │   │                                                                         │ │   │
│  │   │   거래 이력 (25점)          선호도 (15점)           규모 (10점)          │ │   │
│  │   │   ┌─────────────────┐      ┌─────────────────┐    ┌───────────────┐     │ │   │
│  │   │   │ 낙찰 횟수       │      │ 선호 기관       │    │ 예산 규모     │     │ │   │
│  │   │   │  K-water: 5회   │      │  is_preferred   │    │  S: 10점      │     │ │   │
│  │   │   │  ───────────    │      │  ✓ TRUE: +10점  │    │  A: 8점       │     │ │   │
│  │   │   │ 누적 금액       │      │  ───────────    │    │  B: 6점       │     │ │   │
│  │   │   │  ₩5억 이상     │      │ 산업 태그 일치  │    │  C: 4점       │     │ │   │
│  │   │   │  = 25점        │      │  water: +3점    │    │               │     │ │   │
│  │   │   │                 │      │ 지역 태그 일치  │    │ 연간 발주     │     │ │   │
│  │   │   │ 성공률          │      │  전국: +2점     │    │  100건+: +5점 │     │ │   │
│  │   │   │  100%: +5점    │      │                 │    │               │     │ │   │
│  │   │   └─────────────────┘      └─────────────────┘    └───────────────┘     │ │   │
│  │   │                                                                         │ │   │
│  │   └─────────────────────────────────────────────────────────────────────────┘ │   │
│  │                                                                               │   │
│  └───────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
│  ┌───────────────────────────────────────────────────────────────────────────────┐   │
│  │                                                                               │   │
│  │   ACTION 결정                                                                 │   │
│  │   ══════════════════════════════════════════════════════════════              │   │
│  │                                                                               │   │
│  │   TOTAL = KEYWORD + SPEC + ORG (최대 175점)                                   │   │
│  │                                                                               │   │
│  │   ┌─────────────────────────────────────────────────────────────────────────┐ │   │
│  │   │                                                                         │ │   │
│  │   │  0 ────────────── 80 ────────────── 120 ────────────── 175              │ │   │
│  │   │  │░░░░░░░░░░░░░░░░│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│████████████████████│              │ │   │
│  │   │  │     SKIP       │     REVIEW      │       BID         │              │ │   │
│  │   │  │    (< 80)      │   (80 - 120)    │     (> 120)       │              │ │   │
│  │   │  │                │                 │                   │              │ │   │
│  │   │  └─────────────────────────────────────────────────────────────────────┘ │   │
│  │   │                                                                         │ │   │
│  │   └─────────────────────────────────────────────────────────────────────────┘ │   │
│  │                                                                               │   │
│  └───────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 데이터 흐름 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              DATA FLOW DIAGRAM                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                            EXTERNAL DATA SOURCES                             │    │
│   │                                                                              │    │
│   │    ┌──────────┐       ┌──────────┐       ┌──────────┐       ┌──────────┐    │    │
│   │    │   TED    │       │ SAM.gov  │       │   G2B    │       │  KEPCO   │    │    │
│   │    │   (EU)   │       │   (US)   │       │   (KR)   │       │   (KR)   │    │    │
│   │    └────┬─────┘       └────┬─────┘       └────┬─────┘       └────┬─────┘    │    │
│   │         │                  │                  │                  │          │    │
│   └─────────┼──────────────────┼──────────────────┼──────────────────┼──────────┘    │
│             │                  │                  │                  │               │
│             ▼                  ▼                  ▼                  ▼               │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                              INGESTION LAYER                                 │    │
│   │                                                                              │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │                     Inngest Job Scheduler                           │   │    │
│   │    │    ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │   │    │
│   │    │    │ ted.fetch   │  │ sam.fetch   │  │ g2b.fetch   │  ...          │   │    │
│   │    │    │ (1h 주기)   │  │ (1h 주기)   │  │ (1h 주기)   │               │   │    │
│   │    │    └─────────────┘  └─────────────┘  └─────────────┘               │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                     │                                        │    │
│   │                                     ▼                                        │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │              Data Normalization & Deduplication                     │   │    │
│   │    │    - 포맷 통일 (JSON Schema)                                        │   │    │
│   │    │    - 중복 제거 (content_hash)                                       │   │    │
│   │    │    - 유효성 검증 (Zod)                                              │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                                                              │    │
│   └───────────────────────────────────────────┬─────────────────────────────────┘    │
│                                               │                                      │
│                                               ▼                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                               STORAGE LAYER                                  │    │
│   │                                                                              │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │                      Supabase PostgreSQL                            │   │    │
│   │    │                                                                     │   │    │
│   │    │     ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐       │   │    │
│   │    │     │ sources │───▶│  bids   │◀───│ matches │───▶│ alerts  │       │   │    │
│   │    │     └─────────┘    └─────────┘    └─────────┘    └─────────┘       │   │    │
│   │    │                         │                                           │   │    │
│   │    │                    FTS Index                                        │   │    │
│   │    │               (Full-Text Search)                                    │   │    │
│   │    │                                                                     │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                                                              │    │
│   └───────────────────────────────────────────┬─────────────────────────────────┘    │
│                                               │                                      │
│                                               ▼                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                             PROCESSING LAYER                                 │    │
│   │                                                                              │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │                     175점 매칭 엔진                                  │   │    │
│   │    │                                                                     │   │    │
│   │    │     ┌───────────────┐                                               │   │    │
│   │    │     │   products    │                                               │   │    │
│   │    │     │   keywords    │──────┐                                        │   │    │
│   │    │     │   specs       │      │                                        │   │    │
│   │    │     └───────────────┘      │                                        │   │    │
│   │    │                            ▼                                        │   │    │
│   │    │     ┌───────────────┐  ┌────────────────────┐  ┌───────────────┐   │   │    │
│   │    │     │  org_scores   │──│   Match Engine     │──│   matches     │   │   │    │
│   │    │     │  (50점 계산)   │  │                    │  │   (결과저장)  │   │   │    │
│   │    │     └───────────────┘  │  Keyword: 100점     │  └───────────────┘   │   │    │
│   │    │                        │  Spec:     25점     │                      │   │    │
│   │    │                        │  Org:      50점     │                      │   │    │
│   │    │                        │  ─────────────────  │                      │   │    │
│   │    │                        │  Total:   175점     │                      │   │    │
│   │    │                        └────────────────────┘                       │   │    │
│   │    │                                                                     │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                                                              │    │
│   └───────────────────────────────────────────┬─────────────────────────────────┘    │
│                                               │                                      │
│                                               ▼                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                            NOTIFICATION LAYER                                │    │
│   │                                                                              │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │                      Alert Dispatcher                               │   │    │
│   │    │                                                                     │   │    │
│   │    │     ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐       │   │    │
│   │    │     │  Email  │    │  Slack  │    │ In-App  │    │ Webhook │       │   │    │
│   │    │     │         │    │         │    │         │    │         │       │   │    │
│   │    │     └─────────┘    └─────────┘    └─────────┘    └─────────┘       │   │    │
│   │    │                                                                     │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                                                              │    │
│   └───────────────────────────────────────────┬─────────────────────────────────┘    │
│                                               │                                      │
│                                               ▼                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐    │
│   │                           PRESENTATION LAYER                                 │    │
│   │                                                                              │    │
│   │    ┌────────────────────────────────────────────────────────────────────┐   │    │
│   │    │                      Next.js 15 Dashboard                           │   │    │
│   │    │                                                                     │   │    │
│   │    │     ┌─────────────────────────────────────────────────────────┐    │   │    │
│   │    │     │  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐   │    │   │    │
│   │    │     │  │ 대시보드 │  │ 스프레드 │  │ 파이프  │  │ 분석    │   │    │   │    │
│   │    │     │  │         │  │ 시트     │  │ 라인    │  │         │   │    │   │    │
│   │    │     │  └─────────┘  └─────────┘  └─────────┘  └─────────┘   │    │   │    │
│   │    │     │                Handsontable                            │    │   │    │
│   │    │     └─────────────────────────────────────────────────────────┘    │   │    │
│   │    │                                                                     │   │    │
│   │    └────────────────────────────────────────────────────────────────────┘   │    │
│   │                                                                              │    │
│   └─────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                      │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 테이블 상세 스펙

### 5.1 Core Tables (9개)

| 테이블 | 설명 | 주요 컬럼 | RLS |
|--------|------|-----------|-----|
| `tenants` | 고객사 (멀티테넌트) | id, name, slug, plan | ✗ |
| `profiles` | 사용자 프로필 | user_id, tenant_id, role | ✓ |
| `sources` | 데이터 소스 | id, name, type, status | ✗ |
| `products` | CMNTech 제품 | tenant_id, keywords, specs | ✓ |
| `bids` | 입찰 공고 | source_id, title, deadline | ✗ |
| `matches` | 매칭 결과 | bid_id, product_id, scores | ✓ |
| `org_scores` | 기관 점수 | org_name, history/pref/scale | ✓ |
| `alerts` | 알림 | type, channel, status | ✓ |
| `audit_logs` | 감사 로그 | action, entity_type, ip | ✓ |

### 5.2 IoT Extension (3개 - Phase 3)

| 테이블 | 설명 | 주요 컬럼 | 특이사항 |
|--------|------|-----------|----------|
| `devices` | 설치 장비 | serial_number, location, status | GPS 좌표 |
| `sensor_data` | 시계열 데이터 | flow_rate, temperature, pressure | TimescaleDB |
| `ai_results` | AI 분석 결과 | analysis_type, score, prediction | 4개 모델 |

---

## 6. 인덱스 전략

```sql
-- Performance Critical Indexes
CREATE INDEX bids_fts_idx ON bids USING GIN(to_tsvector('simple', title || ' ' || COALESCE(description, '')));
CREATE INDEX bids_deadline_idx ON bids(deadline) WHERE deadline > NOW();
CREATE INDEX matches_score_idx ON matches(total_score DESC);
CREATE INDEX matches_tenant_action_idx ON matches(tenant_id, action);
CREATE INDEX org_scores_tenant_idx ON org_scores(tenant_id, total_score DESC);

-- Sensor Data (TimescaleDB)
-- 자동 생성: time 기반 하이퍼테이블 인덱스
CREATE INDEX sensor_data_device_time_idx ON sensor_data(device_id, time DESC);
```

---

## 7. CMNTech 초기 데이터 시각화

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              CMNTech 초기 데이터                                      │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                      │
│   TENANT: (주)씨엠엔텍                                                               │
│   ════════════════════                                                              │
│   ID: 11111111-1111-1111-1111-111111111111                                          │
│   Plan: Pro                                                                          │
│   Industry: water, sensor, measurement                                              │
│   Region: KR, EU, US                                                                 │
│                                                                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐   │
│   │                              5개 제품                                        │   │
│   │                                                                              │   │
│   │  ┌───────────────────────────────────────────────────────────────────────┐  │   │
│   │  │ 1. UR-1000PLUS                                                        │  │   │
│   │  │    다회선 초음파 유량계                                                 │  │   │
│   │  │    Keywords: 초음파유량계, 다회선, 만관, ultrasonic                     │  │   │
│   │  │    Specs: DN100-DN4000, ±0.5%, IP68                                    │  │   │
│   │  │    Application: 상수도, 취수장, 정수장                                  │  │   │
│   │  └───────────────────────────────────────────────────────────────────────┘  │   │
│   │                                                                              │   │
│   │  ┌───────────────────────────────────────────────────────────────────────┐  │   │
│   │  │ 2. MF-1000C                                                           │  │   │
│   │  │    일체형 전자유량계                                                    │  │   │
│   │  │    Keywords: 전자유량계, 일체형, electromagnetic                       │  │   │
│   │  │    Specs: DN15-DN2000, ±0.3%, IP67                                     │  │   │
│   │  │    Application: 공업용수, 상거래, 빌딩                                  │  │   │
│   │  └───────────────────────────────────────────────────────────────────────┘  │   │
│   │                                                                              │   │
│   │  ┌───────────────────────────────────────────────────────────────────────┐  │   │
│   │  │ 3. UR-1010PLUS                                                        │  │   │
│   │  │    비만관형 초음파 유량계                                               │  │   │
│   │  │    Keywords: 비만관, 하수유량계, open channel                          │  │   │
│   │  │    Specs: DN100-DN3000, ±1.0%, debris 5%                               │  │   │
│   │  │    Application: 하수처리, 우수관거, 슬러지                              │  │   │
│   │  └───────────────────────────────────────────────────────────────────────┘  │   │
│   │                                                                              │   │
│   │  ┌───────────────────────────────────────────────────────────────────────┐  │   │
│   │  │ 4. SL-3000PLUS                                                        │  │   │
│   │  │    개수로 유량계                                                        │  │   │
│   │  │    Keywords: 개수로, 하천유량계, 비접촉, 레이더                         │  │   │
│   │  │    Specs: 레이더+도플러, 태양광, IP66                                   │  │   │
│   │  │    Application: 하천, 수로, 농업용수                                    │  │   │
│   │  └───────────────────────────────────────────────────────────────────────┘  │   │
│   │                                                                              │   │
│   │  ┌───────────────────────────────────────────────────────────────────────┐  │   │
│   │  │ 5. EnerRay                                                            │  │   │
│   │  │    초음파 열량계                                                        │  │   │
│   │  │    Keywords: 열량계, 초음파열량계, heat meter                          │  │   │
│   │  │    Specs: DN15-DN300, Class 2, M-Bus                                   │  │   │
│   │  │    Application: 지역난방, 빌딩 에너지                                   │  │   │
│   │  └───────────────────────────────────────────────────────────────────────┘  │   │
│   │                                                                              │   │
│   └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
│   ┌─────────────────────────────────────────────────────────────────────────────┐   │
│   │                              6개 기관 점수                                   │   │
│   │                                                                              │   │
│   │   기관명                    │ 낙찰 │   금액   │ 이력 │ 선호 │ 규모 │ 총점 │   │
│   │   ─────────────────────────┼──────┼──────────┼──────┼──────┼──────┼──────┤   │
│   │   K-water (한국수자원공사)  │   5  │  ₩5억   │  25  │  15  │  10  │  50  │   │
│   │   한국환경공단              │   3  │  ₩3억   │  17  │  12  │   8  │  37  │   │
│   │   서울시 상수도사업본부     │   2  │  ₩2억   │  10  │  10  │   8  │  28  │   │
│   │   부산시 환경시설공단       │   1  │  ₩1억   │   5  │   5  │   6  │  16  │   │
│   │   인천시 상수도사업본부     │   0  │    -    │   0  │   3  │   6  │   9  │   │
│   │   한국도로공사              │   0  │    -    │   0  │   2  │   8  │  10  │   │
│   │                                                                              │   │
│   └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

*BIDFLOW V2 Supabase Schema Visual v1.0*
*Generated: 2025-12-21*
